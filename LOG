Request: _method = GET _uri = /cgi-test/simple_post.php http = HTTP/1.1
Request::get_requested_resource = [/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
------------------------------starting cgi-----------------------------
tmp_filename = [/tmp/CZ2zpl.html]
-------------------start of http headers---------------
http result head = [HTTP_ACCEPT=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8]
http result head = [HTTP_ACCEPT_ENCODING=gzip, deflate, br]
http result head = [HTTP_ACCEPT_LANGUAGE=en-US,en;q=0.5]
http result head = [HTTP_CONNECTION=keep-alive]
http result head = [HTTP_DNT=1]
http result head = [HTTP_HOST=127.0.0.1:8181]
http result head = [HTTP_SEC_FETCH_DEST=document]
http result head = [HTTP_SEC_FETCH_MODE=navigate]
http result head = [HTTP_SEC_FETCH_SITE=none]
http result head = [HTTP_SEC_FETCH_USER=?1]
http result head = [HTTP_UPGRADE_INSECURE_REQUESTS=1]
http result head = [HTTP_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:109.0) Gecko/20100101 Firefox/113.0]
-----------------------------debugging cgii start---------------------
server_name = [example.com]
server_protocol = [HTTP/1.1]
server_port = [8181]
server_method = [GET]
path_info = [/cgi-test]
path_translated = [simple_post.php]
script_name = [simple_post.php]
query_string = []
remote_host = []
remote_addr = []
auth_type = []
remote_user = []
remote_ident = []
content_type = []
-----------------------------------------------------------------------
debug_cgi : fork
debug_cgi : fork
-----------------------------env passed to cgi----------
env = [TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0000hfr00043p/T/]
env = [__CF_USER_TEXT_ENCODING=0x1076:0:0]
env = [HOME=/Users/hbouhsis]
env = [SHELL=/bin/zsh]
env = [Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.TTmwIP8iAJ/Render]
env = [SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.4hDx5t30XD/Listeners]
env = [PATH=/Users/hbouhsis/goinfre/.brew/bin:/Users/hbouhsis/goinfre/homebrew/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki]
env = [LOGNAME=hbouhsis]
env = [XPC_SERVICE_NAME=0]
env = [MallocNanoZone=0]
env = [USER=hbouhsis]
env = [XPC_FLAGS=0x0]
env = [ORIGINAL_XDG_CURRENT_DESKTOP=undefined]
env = [SHLVL=1]
env = [PWD=/Users/hbouhsis/goinfre/webserver]
env = [OLDPWD=/Users/hbouhsis/goinfre]
env = [ZSH=/Users/hbouhsis/.oh-my-zsh]
env = [PAGER=less]
env = [LESS=-R]
env = [LSCOLORS=Gxfxcxdxbxegedabagacad]
env = [LS_COLORS=di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43]
env = [HOMEBREW_CACHE=/tmp/hbouhsis/Homebrew/Caches]
env = [HOMEBREW_TEMP=/tmp/hbouhsis/Homebrew/Temp]
env = [TERM_PROGRAM=vscode]
env = [TERM_PROGRAM_VERSION=1.77.1]
env = [LANG=en_US.UTF-8]
env = [COLORTERM=truecolor]
env = [GIT_ASKPASS=/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh]
env = [VSCODE_GIT_ASKPASS_NODE=/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)]
env = [VSCODE_GIT_ASKPASS_EXTRA_ARGS=--ms-enable-electron-run-as-node]
env = [VSCODE_GIT_ASKPASS_MAIN=/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js]
env = [VSCODE_GIT_IPC_HANDLE=/var/folders/zz/zyxvpxvq6csfxvn_n0000hfr00043p/T/vscode-git-ea8d68319e.sock]
env = [VSCODE_INJECTION=1]
env = [ZDOTDIR=/Users/hbouhsis]
env = [USER_ZDOTDIR=/Users/hbouhsis]
env = [TERM=xterm-256color]
env = [_=/Users/hbouhsis/goinfre/webserver/./webserv]
env = [SERVER_SOFTWARE=webserv]
env = [SERVER_NAME=example.com]
env = [GATEWAY_INTERFACE=CGI/1.1]
env = [SERVER_PROTOCOL=HTTP/1.1]
env = [SERVER_PORT=8181]
env = [REQUEST_METHOD=GET]
env = [PATH_INFO=/cgi-test]
env = [PATH_TRANSLATED=simple_post.php]
env = [SCRIPT_NAME=simple_post.php]
env = [SCRIPT_FILENAME=/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
env = [DOCUMENT_URI=/cgi-test/simple_post.php]
env = [DOCUMENT_ROOT=/goinfre/hbouhsis/webserver/resources/var/www]
env = [QUERY_STRING=]
env = [REQUEST_URI=/cgi-test/simple_post.php]
env = [REMOTE_ADDR=127.0.0.1]
env = [CONTENT_TYPE=]
env = [CONTENT_LENGTH=]
env = [REDIRECT_STATUS=200]
env = [HTTP_ACCEPT=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8]
env = [HTTP_ACCEPT_ENCODING=gzip, deflate, br]
env = [HTTP_ACCEPT_LANGUAGE=en-US,en;q=0.5]
env = [HTTP_CONNECTION=keep-alive]
env = [HTTP_DNT=1]
env = [HTTP_HOST=127.0.0.1:8181]
env = [HTTP_SEC_FETCH_DEST=document]
env = [HTTP_SEC_FETCH_MODE=navigate]
env = [HTTP_SEC_FETCH_SITE=none]
env = [HTTP_SEC_FETCH_USER=?1]
env = [HTTP_UPGRADE_INSECURE_REQUESTS=1]
env = [HTTP_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:109.0) Gecko/20100101 Firefox/113.0]
----------------------------------------------------------
debug_cgi : child proccess
file_name extension = [php]
cgi_bin == [/goinfre/hbouhsis/webserver/cgi-bin/php-cgi]
debug_cgi : arg[0] == [/goinfre/hbouhsis/webserver/cgi-bin/php-cgi]
debug_cgi : arg[1] == [/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
debug_cgi : parent proccess after waitpid
---------------start of clean_cgi_output------------
cgi_out file =[/tmp/CZ2zplcgi_out.html]
tmp_file =[/tmp/CZ2zpl.html]
Error ====== : Undefined error: 0
first loooooooop
line = [X-Powered-By: PHP/8.0.2]
line = [Content-type: text/html; charset=UTF-8]
line = []
second loooooooop
line = [<html>]
line = [<body>]
line = []
line = [<form method="post" action="simple_post.php">]
line = [  Name: <input type="text" name="fname">]
line = [  <input type="submit">]
line = [</form>]
line = []
line = []
line = [</body>]
line = [</html>]
--------------cgi headers----------
name = [Content-type:]
value = [ text/html; charset=UTF-8]
name = [X-Powered-By:]
value = [ PHP/8.0.2]
------------------------------------
------------------------------end of cgi-----------------------------
Request: _method = POST _uri = /cgi-test/simple_post.php http = HTTP/1.1
Request::get_requested_resource = [/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
------------------------------starting cgi-----------------------------
tmp_filename = [/tmp/Rl73J4.html]
content_type = [CONTENT_TYPE=application/x-www-form-urlencoded]
content_length = [CONTENT_LENGTH=9]
-------------------start of http headers---------------
http result head = [HTTP_ACCEPT=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8]
http result head = [HTTP_ACCEPT_ENCODING=gzip, deflate, br]
http result head = [HTTP_ACCEPT_LANGUAGE=en-US,en;q=0.5]
http result head = [HTTP_CONNECTION=keep-alive]
http result head = [HTTP_CONTENT_LENGTH=9]
http result head = [HTTP_CONTENT_TYPE=application/x-www-form-urlencoded]
http result head = [HTTP_DNT=1]
http result head = [HTTP_HOST=127.0.0.1:8181]
http result head = [HTTP_ORIGIN=http://127.0.0.1:8181]
http result head = [HTTP_REFERER=http://127.0.0.1:8181/cgi-test/simple_post.php]
http result head = [HTTP_SEC_FETCH_DEST=document]
http result head = [HTTP_SEC_FETCH_MODE=navigate]
http result head = [HTTP_SEC_FETCH_SITE=same-origin]
http result head = [HTTP_SEC_FETCH_USER=?1]
http result head = [HTTP_UPGRADE_INSECURE_REQUESTS=1]
http result head = [HTTP_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:109.0) Gecko/20100101 Firefox/113.0]
-----------------------------debugging cgii start---------------------
server_name = [example.com]
server_protocol = [HTTP/1.1]
server_port = [8181]
server_method = [POST]
path_info = [/cgi-test]
path_translated = [simple_post.php]
script_name = [simple_post.php]
query_string = []
remote_host = []
remote_addr = []
auth_type = []
remote_user = []
remote_ident = []
content_type = [ application/x-www-form-urlencoded]
-----------------------------------------------------------------------
debug_cgi : fork
debug_cgi : fork
-----------------------------env passed to cgi----------
env = [TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0000hfr00043p/T/]
env = [__CF_USER_TEXT_ENCODING=0x1076:0:0]
env = [HOME=/Users/hbouhsis]
env = [SHELL=/bin/zsh]
env = [Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.TTmwIP8iAJ/Render]
env = [SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.4hDx5t30XD/Listeners]
env = [PATH=/Users/hbouhsis/goinfre/.brew/bin:/Users/hbouhsis/goinfre/homebrew/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki]
env = [LOGNAME=hbouhsis]
env = [XPC_SERVICE_NAME=0]
env = [MallocNanoZone=0]
env = [USER=hbouhsis]
env = [XPC_FLAGS=0x0]
env = [ORIGINAL_XDG_CURRENT_DESKTOP=undefined]
env = [SHLVL=1]
env = [PWD=/Users/hbouhsis/goinfre/webserver]
env = [OLDPWD=/Users/hbouhsis/goinfre]
env = [ZSH=/Users/hbouhsis/.oh-my-zsh]
env = [PAGER=less]
env = [LESS=-R]
env = [LSCOLORS=Gxfxcxdxbxegedabagacad]
env = [LS_COLORS=di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43]
env = [HOMEBREW_CACHE=/tmp/hbouhsis/Homebrew/Caches]
env = [HOMEBREW_TEMP=/tmp/hbouhsis/Homebrew/Temp]
env = [TERM_PROGRAM=vscode]
env = [TERM_PROGRAM_VERSION=1.77.1]
env = [LANG=en_US.UTF-8]
env = [COLORTERM=truecolor]
env = [GIT_ASKPASS=/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh]
env = [VSCODE_GIT_ASKPASS_NODE=/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)]
env = [VSCODE_GIT_ASKPASS_EXTRA_ARGS=--ms-enable-electron-run-as-node]
env = [VSCODE_GIT_ASKPASS_MAIN=/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js]
env = [VSCODE_GIT_IPC_HANDLE=/var/folders/zz/zyxvpxvq6csfxvn_n0000hfr00043p/T/vscode-git-ea8d68319e.sock]
env = [VSCODE_INJECTION=1]
env = [ZDOTDIR=/Users/hbouhsis]
env = [USER_ZDOTDIR=/Users/hbouhsis]
env = [TERM=xterm-256color]
env = [_=/Users/hbouhsis/goinfre/webserver/./webserv]
env = [SERVER_SOFTWARE=webserv]
env = [SERVER_NAME=example.com]
env = [GATEWAY_INTERFACE=CGI/1.1]
env = [SERVER_PROTOCOL=HTTP/1.1]
env = [SERVER_PORT=8181]
env = [REQUEST_METHOD=POST]
env = [PATH_INFO=/cgi-test]
env = [PATH_TRANSLATED=simple_post.php]
env = [SCRIPT_NAME=simple_post.php]
env = [SCRIPT_FILENAME=/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
env = [DOCUMENT_URI=/cgi-test/simple_post.php]
env = [DOCUMENT_ROOT=/goinfre/hbouhsis/webserver/resources/var/www]
env = [QUERY_STRING=]
env = [REQUEST_URI=/cgi-test/simple_post.php]
env = [REMOTE_ADDR=127.0.0.1]
env = [CONTENT_TYPE=application/x-www-form-urlencoded]
env = [CONTENT_LENGTH=9]
env = [REDIRECT_STATUS=200]
env = [HTTP_ACCEPT=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8]
env = [HTTP_ACCEPT_ENCODING=gzip, deflate, br]
env = [HTTP_ACCEPT_LANGUAGE=en-US,en;q=0.5]
env = [HTTP_CONNECTION=keep-alive]
env = [HTTP_DNT=1]
env = [HTTP_HOST=127.0.0.1:8181]
env = [HTTP_SEC_FETCH_DEST=document]
env = [HTTP_SEC_FETCH_MODE=navigate]
env = [HTTP_SEC_FETCH_SITE=same-origin]
env = [HTTP_SEC_FETCH_USER=?1]
env = [HTTP_UPGRADE_INSECURE_REQUESTS=1]
env = [HTTP_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:109.0) Gecko/20100101 Firefox/113.0]
env = [HTTP_CONTENT_LENGTH=9]
env = [HTTP_CONTENT_TYPE=application/x-www-form-urlencoded]
env = [HTTP_ORIGIN=http://127.0.0.1:8181]
env = [HTTP_REFERER=http://127.0.0.1:8181/cgi-test/simple_post.php]
----------------------------------------------------------
Error = : Invalid argument
debug_cgi : child proccess
file_name extension = [php]
cgi_bin == [/goinfre/hbouhsis/webserver/cgi-bin/php-cgi]
debug_cgi : arg[0] == [/goinfre/hbouhsis/webserver/cgi-bin/php-cgi]
debug_cgi : arg[1] == [/goinfre/hbouhsis/webserver/resources/var/www/cgi_tests/simple_post.php]
debug_cgi : parent proccess after waitpid
---------------start of clean_cgi_output------------
cgi_out file =[/tmp/Rl73J4cgi_out.html]
tmp_file =[/tmp/Rl73J4.html]
Error ====== : Undefined error: 0
first loooooooop
line = [X-Powered-By: PHP/8.0.2]
line = [Content-type: text/html; charset=UTF-8]
line = []
second loooooooop
line = [<html>]
line = [<body>]
line = []
line = [<form method="post" action="simple_post.php">]
line = [  Name: <input type="text" name="fname">]
line = [  <input type="submit">]
line = [</form>]
line = []
line = [ehe]
line = [</body>]
line = [</html>]
--------------cgi headers----------
name = [Content-type:]
value = [ text/html; charset=UTF-8]
name = [X-Powered-By:]
value = [ PHP/8.0.2]
------------------------------------
------------------------------end of cgi-----------------------------
======================================================== upload_done=true
